<template>
  <div class="cool-form-field-demo">
    <!-- å¤´éƒ¨ä»‹ç» -->
    <div class="demo-header">
      <h1>ğŸ“‹ CoolFormField è¡¨å•å­—æ®µç»„ä»¶</h1>
      <p class="demo-desc">
        åŸºäº CoolField æ„å»ºçš„è¡¨å•å­—æ®µç»„ä»¶ï¼Œå†…ç½® FormItem åŒ…è£…ï¼Œæ”¯æŒéªŒè¯è§„åˆ™ã€å¸ƒå±€é…ç½®ã€Grid ç³»ç»Ÿç­‰è¡¨å•ä¸“ç”¨åŠŸèƒ½ã€‚
      </p>
    </div>

    <!-- åŸºç¡€è¡¨å•ç¤ºä¾‹ -->
    <section class="demo-section">
      <div class="section-header">
        <h2>ğŸ“ åŸºç¡€è¡¨å•ç¤ºä¾‹</h2>
        <span class="section-badge">å®Œæ•´è¡¨å•</span>
      </div>
      
      <div class="demo-content">
        <a-form 
          ref="formRef"
          :model="formData" 
          :label-col="{ span: 6 }" 
          :wrapper-col="{ span: 18 }"
          @finish="handleSubmit"
        >
          <div class="form-grid">
            <!-- åŸºæœ¬ä¿¡æ¯ -->
            <div class="form-section">
              <h3>åŸºæœ¬ä¿¡æ¯</h3>
              
              <CoolFormField
                value-type="text"
                label="ç”¨æˆ·å"
                name="username"
                :required="true"
                v-model:value="formData.username"
                placeholder="è¯·è¾“å…¥ç”¨æˆ·å"
                :rules="[
                  { required: true, message: 'è¯·è¾“å…¥ç”¨æˆ·å' },
                  { min: 3, max: 20, message: 'ç”¨æˆ·åé•¿åº¦ä¸º3-20ä¸ªå­—ç¬¦' }
                ]"
              />

              <CoolFormField
                value-type="text"
                label="é‚®ç®±"
                name="email"
                :required="true"
                v-model:value="formData.email"
                placeholder="è¯·è¾“å…¥é‚®ç®±åœ°å€"
                :rules="[
                  { required: true, message: 'è¯·è¾“å…¥é‚®ç®±' },
                  { type: 'email', message: 'é‚®ç®±æ ¼å¼ä¸æ­£ç¡®' }
                ]"
              />

              <CoolFormField
                value-type="digit"
                label="å¹´é¾„"
                name="age"
                v-model:value="formData.age"
                placeholder="è¯·è¾“å…¥å¹´é¾„"
                :rules="[
                  { type: 'number', min: 18, max: 100, message: 'å¹´é¾„å¿…é¡»åœ¨18-100ä¹‹é—´' }
                ]"
              />

              <CoolFormField
                value-type="select"
                label="æ€§åˆ«"
                name="gender"
                v-model:value="formData.gender"
                placeholder="è¯·é€‰æ‹©æ€§åˆ«"
                :value-enum="genderOptions"
                :rules="[
                  { required: true, message: 'è¯·é€‰æ‹©æ€§åˆ«' }
                ]"
              />
            </div>

            <!-- å·¥ä½œä¿¡æ¯ -->
            <div class="form-section">
              <h3>å·¥ä½œä¿¡æ¯</h3>
              
              <CoolFormField
                value-type="cascader"
                label="æ‰€åœ¨åœ°åŒº"
                name="location"
                v-model:value="formData.location"
                placeholder="è¯·é€‰æ‹©çœå¸‚åŒº"
                :options="regionOptions"
              />

              <CoolFormField
                value-type="select"
                label="èŒä¸š"
                name="profession"
                v-model:value="formData.profession"
                placeholder="è¯·é€‰æ‹©èŒä¸š"
                :value-enum="professionOptions"
              />

              <CoolFormField
                value-type="money"
                label="æœŸæœ›è–ªèµ„"
                name="salary"
                v-model:value="formData.salary"
                placeholder="è¯·è¾“å…¥æœŸæœ›è–ªèµ„"
              />

              <CoolFormField
                value-type="dateRange"
                label="å·¥ä½œç»éªŒ"
                name="workExperience"
                v-model:value="formData.workExperience"
              />
            </div>

            <!-- åå¥½è®¾ç½® -->
            <div class="form-section">
              <h3>åå¥½è®¾ç½®</h3>
              
              <CoolFormField
                value-type="checkbox"
                label="æŠ€èƒ½æ ‡ç­¾"
                name="skills"
                v-model:value="formData.skills"
                :options="skillOptions"
              />

              <CoolFormField
                value-type="radio"
                label="å·¥ä½œæ¨¡å¼"
                name="workMode"
                v-model:value="formData.workMode"
                :value-enum="workModeOptions"
              />

              <CoolFormField
                value-type="switch"
                label="æ¥æ”¶æ¨é€"
                name="notifications"
                v-model:value="formData.notifications"
                checked-text="å¼€å¯"
                unchecked-text="å…³é—­"
              />

              <CoolFormField
                value-type="textarea"
                label="ä¸ªäººç®€ä»‹"
                name="bio"
                v-model:value="formData.bio"
                placeholder="è¯·è¾“å…¥ä¸ªäººç®€ä»‹"
                :rows="4"
                :maxlength="500"
                show-count
              />
            </div>
          </div>

          <div class="form-actions">
            <a-space size="large">
              <a-button type="primary" html-type="submit" size="large">
                æäº¤è¡¨å•
              </a-button>
              <a-button @click="resetForm" size="large">
                é‡ç½®è¡¨å•
              </a-button>
              <a-button @click="validateForm" size="large">
                éªŒè¯è¡¨å•
              </a-button>
            </a-space>
          </div>
        </a-form>
      </div>
    </section>

    <!-- Grid å¸ƒå±€ç¤ºä¾‹ -->
    <section class="demo-section">
      <div class="section-header">
        <h2>ğŸ¯ Grid å¸ƒå±€ç¤ºä¾‹</h2>
        <span class="section-badge">å“åº”å¼å¸ƒå±€</span>
      </div>
      
      <div class="demo-content">
        <div class="grid-examples">
          <!-- åŒåˆ—å¸ƒå±€ -->
          <div class="grid-demo">
            <h3>åŒåˆ—å¸ƒå±€ (1:1)</h3>
            <a-form :model="gridFormData" layout="vertical">
              <a-row :gutter="16">
                <a-col :span="12">
                  <CoolFormField
                    value-type="text"
                    label="å§“å"
                    name="name"
                    v-model:value="gridFormData.name"
                    placeholder="è¯·è¾“å…¥å§“å"
                  />
                </a-col>
                <a-col :span="12">
                  <CoolFormField
                    value-type="text"
                    label="ç”µè¯"
                    name="phone"
                    v-model:value="gridFormData.phone"
                    placeholder="è¯·è¾“å…¥ç”µè¯å·ç "
                  />
                </a-col>
              </a-row>
              
              <a-row :gutter="16">
                <a-col :span="12">
                  <CoolFormField
                    value-type="date"
                    label="å‡ºç”Ÿæ—¥æœŸ"
                    name="birthday"
                    v-model:value="gridFormData.birthday"
                    placeholder="è¯·é€‰æ‹©å‡ºç”Ÿæ—¥æœŸ"
                  />
                </a-col>
                <a-col :span="12">
                  <CoolFormField
                    value-type="select"
                    label="å­¦å†"
                    name="education"
                    v-model:value="gridFormData.education"
                    placeholder="è¯·é€‰æ‹©å­¦å†"
                    :value-enum="educationOptions"
                  />
                </a-col>
              </a-row>
            </a-form>
          </div>

          <!-- ä¸‰åˆ—å¸ƒå±€ -->
          <div class="grid-demo">
            <h3>ä¸‰åˆ—å¸ƒå±€ (1:1:1)</h3>
            <a-form :model="gridFormData" layout="vertical">
              <a-row :gutter="16">
                <a-col :span="8">
                  <CoolFormField
                    value-type="text"
                    label="å…¬å¸åç§°"
                    name="company"
                    v-model:value="gridFormData.company"
                    placeholder="è¯·è¾“å…¥å…¬å¸åç§°"
                  />
                </a-col>
                <a-col :span="8">
                  <CoolFormField
                    value-type="text"
                    label="éƒ¨é—¨"
                    name="department"
                    v-model:value="gridFormData.department"
                    placeholder="è¯·è¾“å…¥éƒ¨é—¨"
                  />
                </a-col>
                <a-col :span="8">
                  <CoolFormField
                    value-type="text"
                    label="èŒä½"
                    name="position"
                    v-model:value="gridFormData.position"
                    placeholder="è¯·è¾“å…¥èŒä½"
                  />
                </a-col>
              </a-row>
            </a-form>
          </div>

          <!-- æ··åˆå¸ƒå±€ -->
          <div class="grid-demo">
            <h3>æ··åˆå¸ƒå±€ (2:1:1)</h3>
            <a-form :model="gridFormData" layout="vertical">
              <a-row :gutter="16">
                <a-col :span="12">
                  <CoolFormField
                    value-type="textarea"
                    label="é¡¹ç›®æè¿°"
                    name="description"
                    v-model:value="gridFormData.description"
                    placeholder="è¯·è¾“å…¥é¡¹ç›®æè¿°"
                    :rows="3"
                  />
                </a-col>
                <a-col :span="6">
                  <CoolFormField
                    value-type="digit"
                    label="é¡¹ç›®å‘¨æœŸ(å¤©)"
                    name="duration"
                    v-model:value="gridFormData.duration"
                    placeholder="é¡¹ç›®å‘¨æœŸ"
                  />
                </a-col>
                <!-- <a-col :span="6">
                  <CoolFormField
                    value-type="percent"
                    label="å®Œæˆè¿›åº¦"
                    name="progress"
                    v-model:value="gridFormData.progress"
                    placeholder="å®Œæˆè¿›åº¦"
                  />
                </a-col> -->
              </a-row>
            </a-form>
          </div>
        </div>
      </div>
    </section>

    <!-- éªŒè¯è§„åˆ™ç¤ºä¾‹ -->
    <section class="demo-section">
      <div class="section-header">
        <h2>âœ… éªŒè¯è§„åˆ™ç¤ºä¾‹</h2>
        <span class="section-badge">è¡¨å•éªŒè¯</span>
      </div>
      
      <div class="demo-content">
        <a-form 
          :model="validationFormData" 
          :label-col="{ span: 8 }" 
          :wrapper-col="{ span: 16 }"
          @finish="handleValidationSubmit"
        >
          <div class="validation-examples">
            <div class="validation-group">
              <h3>åŸºç¡€éªŒè¯</h3>
              
              <CoolFormField
                value-type="text"
                label="å¿…å¡«å­—æ®µ"
                name="required"
                v-model:value="validationFormData.required"
                placeholder="è¿™æ˜¯å¿…å¡«å­—æ®µ"
                :rules="[
                  { required: true, message: 'è¿™ä¸ªå­—æ®µæ˜¯å¿…å¡«çš„ï¼' }
                ]"
              />

              <CoolFormField
                value-type="text"
                label="é•¿åº¦é™åˆ¶"
                name="length"
                v-model:value="validationFormData.length"
                placeholder="è¯·è¾“å…¥5-10ä¸ªå­—ç¬¦"
                :rules="[
                  { min: 5, max: 10, message: 'é•¿åº¦å¿…é¡»åœ¨5-10ä¸ªå­—ç¬¦ä¹‹é—´' }
                ]"
              />

              <CoolFormField
                value-type="text"
                label="æ­£åˆ™éªŒè¯"
                name="pattern"
                v-model:value="validationFormData.pattern"
                placeholder="è¯·è¾“å…¥æ‰‹æœºå·ç "
                :rules="[
                  { pattern: /^1[3-9]\d{9}$/, message: 'è¯·è¾“å…¥æ­£ç¡®çš„æ‰‹æœºå·ç æ ¼å¼' }
                ]"
              />
            </div>

            <div class="validation-group">
              <h3>æ•°å€¼éªŒè¯</h3>
              
              <CoolFormField
                value-type="digit"
                label="æ•°å€¼èŒƒå›´"
                name="numberRange"
                v-model:value="validationFormData.numberRange"
                placeholder="è¯·è¾“å…¥1-100çš„æ•°å­—"
                :rules="[
                  { type: 'number', min: 1, max: 100, message: 'æ•°å€¼å¿…é¡»åœ¨1-100ä¹‹é—´' }
                ]"
              />

              <CoolFormField
                value-type="money"
                label="é‡‘é¢éªŒè¯"
                name="amount"
                v-model:value="validationFormData.amount"
                placeholder="è¯·è¾“å…¥é‡‘é¢ï¼ˆä¸è¶…è¿‡100ä¸‡ï¼‰"
                :rules="[
                  { type: 'number', max: 1000000, message: 'é‡‘é¢ä¸èƒ½è¶…è¿‡100ä¸‡' }
                ]"
              />
            </div>

            <div class="validation-group">
              <h3>è‡ªå®šä¹‰éªŒè¯</h3>
              
              <CoolFormField
                value-type="text"
                label="ç¡®è®¤å¯†ç "
                name="confirmPassword"
                v-model:value="validationFormData.confirmPassword"
                placeholder="è¯·å†æ¬¡è¾“å…¥å¯†ç "
                :rules="[
                  { validator: validatePassword, trigger: 'blur' }
                ]"
              />

              <CoolFormField
                value-type="text"
                label="å¼‚æ­¥éªŒè¯"
                name="asyncValidation"
                v-model:value="validationFormData.asyncValidation"
                placeholder="è¯·è¾“å…¥ç”¨æˆ·åï¼ˆæ¨¡æ‹Ÿæ£€æŸ¥é‡å¤ï¼‰"
                :rules="[
                  { validator: validateUsernameAsync, trigger: 'blur' }
                ]"
              />
            </div>
          </div>

          <div class="form-actions">
            <a-space>
              <a-button type="primary" html-type="submit">
                æäº¤éªŒè¯è¡¨å•
              </a-button>
              <a-button @click="resetValidationForm">
                é‡ç½®éªŒè¯è¡¨å•
              </a-button>
            </a-space>
          </div>
        </a-form>
      </div>
    </section>

    <!-- å­—æ®µç±»å‹å±•ç¤º -->
    <section class="demo-section">
      <div class="section-header">
        <h2>ğŸ¨ å­—æ®µç±»å‹å±•ç¤º</h2>
        <span class="section-badge">æ‰€æœ‰ç±»å‹</span>
      </div>
      
      <div class="demo-content">
        <div class="field-types-grid">
          <!-- æ–‡æœ¬ç±» -->
          <div class="field-group">
            <h3>ğŸ“ æ–‡æœ¬ç±»</h3>
            <a-form layout="vertical" :model="fieldTypeData">
              <CoolFormField
                value-type="text"
                label="åŸºç¡€æ–‡æœ¬"
                name="text"
                v-model:value="fieldTypeData.text"
                placeholder="è¯·è¾“å…¥æ–‡æœ¬"
              />
              
              <CoolFormField
                value-type="password"
                label="å¯†ç "
                name="password"
                v-model:value="fieldTypeData.password"
                placeholder="è¯·è¾“å…¥å¯†ç "
              />
              
              <CoolFormField
                value-type="textarea"
                label="å¤šè¡Œæ–‡æœ¬"
                name="textarea"
                v-model:value="fieldTypeData.textarea"
                placeholder="è¯·è¾“å…¥å¤šè¡Œæ–‡æœ¬"
                :rows="3"
              />
            </a-form>
          </div>

          <!-- æ•°å­—ç±» -->
          <div class="field-group">
            <h3>ğŸ”¢ æ•°å­—ç±»</h3>
            <a-form layout="vertical" :model="fieldTypeData">
              <CoolFormField
                value-type="digit"
                label="æ•´æ•°"
                name="digit"
                v-model:value="fieldTypeData.digit"
                placeholder="è¯·è¾“å…¥æ•´æ•°"
              />
              
              <CoolFormField
                value-type="money"
                label="é‡‘é¢"
                name="money"
                v-model:value="fieldTypeData.money"
                placeholder="è¯·è¾“å…¥é‡‘é¢"
              />
              
              <!-- <CoolFormField
                value-type="percent"
                label="ç™¾åˆ†æ¯”"
                name="percent"
                v-model:value="fieldTypeData.percent"
                placeholder="è¯·è¾“å…¥ç™¾åˆ†æ¯”"
              /> -->
            </a-form>
          </div>

          <!-- é€‰æ‹©ç±» -->
          <div class="field-group">
            <h3>ğŸ“‹ é€‰æ‹©ç±»</h3>
            <a-form layout="vertical" :model="fieldTypeData">
              <CoolFormField
                value-type="select"
                label="ä¸‹æ‹‰é€‰æ‹©"
                name="select"
                v-model:value="fieldTypeData.select"
                placeholder="è¯·é€‰æ‹©"
                :value-enum="selectOptions"
              />
              
              <CoolFormField
                value-type="radio"
                label="å•é€‰"
                name="radio"
                v-model:value="fieldTypeData.radio"
                :value-enum="radioOptions"
              />
              
              <CoolFormField
                value-type="checkbox"
                label="å¤šé€‰"
                name="checkbox"
                v-model:value="fieldTypeData.checkbox"
                :options="checkboxOptions"
              />
              
              <CoolFormField
                value-type="switch"
                label="å¼€å…³"
                name="switch"
                v-model:value="fieldTypeData.switch"
              />
            </a-form>
          </div>

          <!-- æ—¥æœŸæ—¶é—´ç±» -->
          <div class="field-group">
            <h3>ğŸ“… æ—¥æœŸæ—¶é—´ç±»</h3>
            <a-form layout="vertical" :model="fieldTypeData">
              <CoolFormField
                value-type="date"
                label="æ—¥æœŸ"
                name="date"
                v-model:value="fieldTypeData.date"
                placeholder="è¯·é€‰æ‹©æ—¥æœŸ"
              />
              
              <CoolFormField
                value-type="time"
                label="æ—¶é—´"
                name="time"
                v-model:value="fieldTypeData.time"
                placeholder="è¯·é€‰æ‹©æ—¶é—´"
              />
              
              <CoolFormField
                value-type="dateRange"
                label="æ—¥æœŸèŒƒå›´"
                name="dateRange"
                v-model:value="fieldTypeData.dateRange"
              />
            </a-form>
          </div>
        </div>
      </div>
    </section>

    <!-- æ•°æ®å±•ç¤º -->
    <div class="data-display">
      <h3 style="color: #ecf0f1; margin-bottom: 16px; font-size: 18px;">
        ğŸ“Š è¡¨å•æ•°æ®çŠ¶æ€
      </h3>
      <div class="data-tabs">
        <a-tabs v-model:active-key="activeDataTab" type="card">
          <a-tab-pane key="form" tab="åŸºç¡€è¡¨å•æ•°æ®">
            <pre>{{ JSON.stringify(formData, null, 2) }}</pre>
          </a-tab-pane>
          <a-tab-pane key="grid" tab="Gridè¡¨å•æ•°æ®">
            <pre>{{ JSON.stringify(gridFormData, null, 2) }}</pre>
          </a-tab-pane>
          <a-tab-pane key="validation" tab="éªŒè¯è¡¨å•æ•°æ®">
            <pre>{{ JSON.stringify(validationFormData, null, 2) }}</pre>
          </a-tab-pane>
          <a-tab-pane key="fieldType" tab="å­—æ®µç±»å‹æ•°æ®">
            <pre>{{ JSON.stringify(fieldTypeData, null, 2) }}</pre>
          </a-tab-pane>
        </a-tabs>
      </div>
    </div>
  </div>
</template>

<script setup lang="ts">
import { reactive, ref } from 'vue'
import { message, Button as AButton, Form as AForm, Tabs as ATabs, TabPane as ATabPane, Space as ASpace, Col as ACol, Row as ARow} from 'ant-design-vue'
import CoolFormField from '../index'

const formRef = ref()

// åŸºç¡€è¡¨å•æ•°æ®
const formData = reactive({
  username: '',
  email: '',
  age: null,
  gender: undefined,
  location: [],
  profession: '',
  salary: null,
  workExperience: [],
  skills: [],
  workMode: '',
  notifications: true,
  bio: ''
})

// Gridè¡¨å•æ•°æ®
const gridFormData = reactive({
  name: '',
  phone: '',
  birthday: '',
  education: '',
  company: '',
  department: '',
  position: '',
  description: '',
  duration: null,
  progress: null
})

// éªŒè¯è¡¨å•æ•°æ®
const validationFormData = reactive({
  required: '',
  length: '',
  pattern: '',
  numberRange: null,
  amount: null,
  confirmPassword: '',
  asyncValidation: ''
})

// å­—æ®µç±»å‹å±•ç¤ºæ•°æ®
const fieldTypeData = reactive({
  text: '',
  password: '',
  textarea: '',
  digit: null,
  money: null,
  percent: null,
  select: '',
  radio: '',
  checkbox: [],
  switch: false,
  date: '',
  time: '',
  dateRange: []
})

// å½“å‰æ¿€æ´»çš„æ•°æ®æ ‡ç­¾
const activeDataTab = ref('form')

// é€‰é¡¹é…ç½®
const genderOptions = {
  male: { label: 'ç”·', value: 'male' },
  female: { label: 'å¥³', value: 'female' },
  other: { label: 'å…¶ä»–', value: 'other' }
}

const professionOptions = {
  developer: { label: 'å¼€å‘å·¥ç¨‹å¸ˆ', value: 'developer' },
  designer: { label: 'è®¾è®¡å¸ˆ', value: 'designer' },
  product: { label: 'äº§å“ç»ç†', value: 'product' },
  sales: { label: 'é”€å”®', value: 'sales' },
  other: { label: 'å…¶ä»–', value: 'other' }
}

const skillOptions = [
  { label: 'JavaScript', value: 'javascript' },
  { label: 'TypeScript', value: 'typescript' },
  { label: 'Vue.js', value: 'vue' },
  { label: 'React', value: 'react' },
  { label: 'Node.js', value: 'nodejs' },
  { label: 'Python', value: 'python' }
]

const workModeOptions = {
  onsite: { label: 'ç°åœºåŠå…¬', value: 'onsite' },
  remote: { label: 'è¿œç¨‹åŠå…¬', value: 'remote' },
  hybrid: { label: 'æ··åˆåŠå…¬', value: 'hybrid' }
}

const educationOptions = {
  bachelor: { label: 'æœ¬ç§‘', value: 'bachelor' },
  master: { label: 'ç¡•å£«', value: 'master' },
  doctor: { label: 'åšå£«', value: 'doctor' },
  other: { label: 'å…¶ä»–', value: 'other' }
}

const selectOptions = {
  option1: { label: 'é€‰é¡¹ä¸€', value: 'option1' },
  option2: { label: 'é€‰é¡¹äºŒ', value: 'option2' },
  option3: { label: 'é€‰é¡¹ä¸‰', value: 'option3' }
}

const radioOptions = {
  radio1: { label: 'é€‰é¡¹A', value: 'radio1' },
  radio2: { label: 'é€‰é¡¹B', value: 'radio2' },
  radio3: { label: 'é€‰é¡¹C', value: 'radio3' }
}

const checkboxOptions = [
  { label: 'é€‰é¡¹1', value: 'check1' },
  { label: 'é€‰é¡¹2', value: 'check2' },
  { label: 'é€‰é¡¹3', value: 'check3' }
]

// åœ°åŒºé€‰é¡¹
const regionOptions = [
  {
    label: 'æµ™æ±Ÿçœ',
    value: 'zhejiang',
    children: [
      {
        label: 'æ­å·å¸‚',
        value: 'hangzhou',
        children: [
          { label: 'è¥¿æ¹–åŒº', value: 'xihu' },
          { label: 'ä½™æ­åŒº', value: 'yuhang' }
        ]
      }
    ]
  },
  {
    label: 'æ±Ÿè‹çœ',
    value: 'jiangsu',
    children: [
      {
        label: 'å—äº¬å¸‚',
        value: 'nanjing',
        children: [
          { label: 'ç„æ­¦åŒº', value: 'xuanwu' },
          { label: 'ç§¦æ·®åŒº', value: 'qinhuai' }
        ]
      }
    ]
  }
]

// äº‹ä»¶å¤„ç†å‡½æ•°
const handleSubmit = (values: any) => {
  console.log('Form submitted:', values)
  message.success('è¡¨å•æäº¤æˆåŠŸï¼')
}

const resetForm = () => {
  formRef.value?.resetFields()
  message.info('è¡¨å•å·²é‡ç½®')
}

const validateForm = () => {
  message.info('è¡¨å•éªŒè¯åŠŸèƒ½éœ€è¦é…åˆ a-form ç»„ä»¶ä½¿ç”¨')
}

const handleValidationSubmit = (values: any) => {
  console.log('Validation form submitted:', values)
  message.success('éªŒè¯è¡¨å•æäº¤æˆåŠŸï¼')
}

const resetValidationForm = () => {
  formRef.value?.resetFields()
  message.info('éªŒè¯è¡¨å•å·²é‡ç½®')
}

// è‡ªå®šä¹‰éªŒè¯å‡½æ•°
const validatePassword = (rule: any, value: string) => {
  if (!value) {
    return Promise.reject('è¯·è¾“å…¥ç¡®è®¤å¯†ç ')
  }
  if (value !== 'password123') {
    return Promise.reject('ç¡®è®¤å¯†ç ä¸åŒ¹é…')
  }
  return Promise.resolve()
}

const validateUsernameAsync = (rule: any, value: string) => {
  return new Promise((resolve, reject) => {
    if (!value) {
      resolve(undefined)
      return
    }
    
    // æ¨¡æ‹Ÿå¼‚æ­¥éªŒè¯
    setTimeout(() => {
      if (value === 'admin' || value === 'root') {
        reject('è¯¥ç”¨æˆ·åå·²è¢«å ç”¨')
      } else {
        resolve(undefined)
      }
    }, 1000)
  })
}
</script>

<style lang="scss" scoped>
.cool-form-field-demo {
  min-height: 100vh;
  background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
  padding: 0;
  
  // å¤´éƒ¨ä»‹ç»æ ·å¼
  .demo-header {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    text-align: center;
    padding: 60px 20px;
    margin-bottom: 0;
    
    h1 {
      font-size: 48px;
      font-weight: 700;
      margin: 0 0 20px 0;
      text-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    }
    
    .demo-desc {
      font-size: 18px;
      line-height: 1.6;
      opacity: 0.95;
      max-width: 800px;
      margin: 0 auto;
    }
  }
  
  // ç« èŠ‚æ ·å¼
  .demo-section {
    background: white;
    margin: 40px auto 0 auto;
    max-width: 1400px;
    border-radius: 16px;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    overflow: hidden;
    
    .section-header {
      background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
      padding: 24px 32px;
      display: flex;
      align-items: center;
      justify-content: space-between;
      
      h2 {
        color: white;
        font-size: 24px;
        font-weight: 600;
        margin: 0;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
      }
      
      .section-badge {
        background: rgba(255, 255, 255, 0.2);
        color: white;
        padding: 6px 16px;
        border-radius: 20px;
        font-size: 14px;
        font-weight: 500;
        backdrop-filter: blur(10px);
      }
    }
    
    .demo-content {
      padding: 32px;
    }
  }
  
  // è¡¨å•ç½‘æ ¼
  .form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
    gap: 32px;
  }
  
  .form-section {
    background: #fafbfc;
    border-radius: 12px;
    padding: 24px;
    border: 1px solid #e8e8e8;
    
    h3 {
      color: #2c3e50;
      font-size: 18px;
      font-weight: 600;
      margin: 0 0 20px 0;
      padding-bottom: 8px;
      border-bottom: 2px solid #e8e8e8;
    }
  }
  
  // Grid ç¤ºä¾‹
  .grid-examples {
    display: flex;
    flex-direction: column;
    gap: 32px;
  }
  
  .grid-demo {
    background: #fafbfc;
    border-radius: 12px;
    padding: 24px;
    border: 1px solid #e8e8e8;
    
    h3 {
      color: #2c3e50;
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
  }
  
  // éªŒè¯ç¤ºä¾‹
  .validation-examples {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
    gap: 32px;
  }
  
  .validation-group {
    background: #fafbfc;
    border-radius: 12px;
    padding: 24px;
    border: 1px solid #e8e8e8;
    
    h3 {
      color: #2c3e50;
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
  }
  
  // å­—æ®µç±»å‹ç½‘æ ¼
  .field-types-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 24px;
  }
  
  .field-group {
    background: #fafbfc;
    border-radius: 12px;
    padding: 20px;
    border: 1px solid #e8e8e8;
    
    h3 {
      color: #2c3e50;
      font-size: 16px;
      font-weight: 600;
      margin: 0 0 16px 0;
    }
  }
  
  // è¡¨å•æ“ä½œ
  .form-actions {
    text-align: center;
    margin-top: 32px;
    padding: 24px;
    background: #fafbfc;
    border-radius: 12px;
    border: 1px solid #e8e8e8;
  }
  
  // æ•°æ®æ˜¾ç¤º
  .data-display {
    background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
    border-radius: 12px;
    padding: 24px;
    color: #ecf0f1;
    font-size: 14px;
    line-height: 1.6;
    max-width: 1400px;
    margin: 40px auto;
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
    
    .data-tabs {
      margin-top: 16px;
      
      :deep(.ant-tabs-card) {
        .ant-tabs-tab {
          background: rgba(255, 255, 255, 0.1);
          border-color: rgba(255, 255, 255, 0.2);
          color: rgba(255, 255, 255, 0.8);
          
          &.ant-tabs-tab-active {
            background: rgba(255, 255, 255, 0.2);
            color: white;
          }
        }
        
        .ant-tabs-content-holder {
          background: rgba(255, 255, 255, 0.05);
          border-radius: 8px;
          padding: 16px;
        }
      }
      
      pre {
        margin: 0;
        color: #ecf0f1;
        font-family: 'Monaco', 'Menlo', 'Ubuntu Mono', monospace;
        font-size: 12px;
        line-height: 1.4;
        white-space: pre-wrap;
        word-break: break-all;
      }
    }
  }
  
  // å“åº”å¼
  @media (max-width: 1024px) {
    .form-grid {
      grid-template-columns: 1fr;
    }
    
    .validation-examples {
      grid-template-columns: 1fr;
    }
    
    .field-types-grid {
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    }
  }
  
  @media (max-width: 768px) {
    .demo-header {
      padding: 40px 20px;
      
      h1 {
        font-size: 36px;
      }
      
      .demo-desc {
        font-size: 16px;
      }
    }
    
    .demo-content {
      padding: 20px;
    }
    
    .field-types-grid {
      grid-template-columns: 1fr;
    }
  }
}

// å…¨å±€æ ·å¼è¦†ç›–
:deep(.ant-form-item) {
  margin-bottom: 20px;
}

:deep(.ant-form-item-label) {
  font-weight: 600;
  color: #2c3e50;
}

:deep(.ant-input),
:deep(.ant-input-number),
:deep(.ant-select),
:deep(.ant-textarea),
:deep(.ant-picker) {
  border-radius: 6px;
  transition: all 0.3s ease;
  
  &:hover {
    border-color: #4facfe;
    box-shadow: 0 2px 8px rgba(79, 172, 254, 0.2);
  }
  
  &:focus {
    border-color: #4facfe;
    box-shadow: 0 0 0 2px rgba(79, 172, 254, 0.2);
  }
}

:deep(.ant-btn) {
  border-radius: 6px;
  font-weight: 500;
  
  &.ant-btn-primary {
    background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    border: none;
    
    &:hover {
      background: linear-gradient(135deg, #3b9cfd 0%, #00e8fd 100%);
    }
  }
}
</style> 